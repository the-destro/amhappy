<h2>Create Happinstance</h2>
<label>Select an Application:</label>
<select ng-model="selectedApplication" ng-options="application for application in applications">
    <option value="">
        ---------
    </option>
</select>

<div class="create">
    <form ng-submit="submit()">
        <div ng-repeat="(image, settings) in config | orderBy">
            <div ng-repeat="(variable, value) in settings.environment" class="create_setting">
                <span  ng-if="variable.indexOf('DIR') > -1">{{variable}}
                    <select ng-model="environments[image][variable]"
                            ng-options="code_dir for code_dir in config_options.code_dirs | orderBy">
-                        <option value=""></option>
-                   </select>
                </span>
                <span ng-if="variable.indexOf('HOST') > -1">{{variable}}
                    <select ng-model="environments[image][variable]"
                        ng-options="vhost as vhost for (vhost, status) in vhosts_available | orderBy">
                    </select>
-               </span>
            </div>
        </div>

        <div ng-hide="selectedApplication == ''">
            <label>Happinstance Name:</label> <input type="text" ng-model="name"> <input type="submit" id="submit" value="Create">
        </div>
        <p class="note">Notes on naming: Use only letters and numbers. No spaces, hyphens, or underscores!</p>
    </form>
    <pre>
        {{toJson(config, 4)}}
    </pre>
</div>

